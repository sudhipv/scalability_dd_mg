#!/bin/bash
#SBATCH --account=def-asarkar
#SBATCH --nodes=20
#SBATCH --ntasks-per-node=40
#SBATCH --time=00:30:00
##SBATCH --mem-per-cpu=3700M
#SBATCH --job-name=strong_NL
#SBATCH --output=%x-%j.out
#SBATCH --mail-user=sudhipv@cmail.carleton.ca
#SBATCH --mail-type=ALL

module load CCEnv
module load StdEnv/2020


which mpiexec
which mpirun

############### 2L methods ############################


# mpirun -np 40 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_2L.edp -m 750 -n 750 -beta 3 -nw -log_view

# echo "#############################################################################################################"
# echo "#############################################################################################################"
# echo "########     Finsihed Code with 40 Processors             #################################################"
# echo "#############################################################################################################"
# echo "#############################################################################################################"

# mpirun -np 80 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_2L.edp -m 1061 -n 1061 -beta 3 -nw -log_view

# echo "#############################################################################################################"
# echo "#############################################################################################################"
# echo "########     Finsihed Code with NL 80 Processors             #################################################"
# echo "#############################################################################################################"
# echo "#############################################################################################################"

mpirun -np 160 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_2L.edp -m 1500 -n 1500 -beta 1 -nw -log_view

echo "#############################################################################################################"
echo "#############################################################################################################"
echo "########     Finsihed Code with NL 160 Processors             #################################################"
echo "#############################################################################################################"
echo "#############################################################################################################"


mpirun -np 240 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_2L.edp -m 1500 -n 1500 -beta 1 -nw -log_view

echo "#############################################################################################################"
echo "#############################################################################################################"
echo "########     Finsihed Code with NL 240 Processors             #################################################"
echo "#############################################################################################################"
echo "#############################################################################################################"

mpirun -np 400 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_2L.edp -m 1500 -n 1500 -beta 1 -nw -log_view

echo "#############################################################################################################"
echo "#############################################################################################################"
echo "########     Finsihed Code with NL 400 Processors             #################################################"
echo "#############################################################################################################"
echo "#############################################################################################################"

mpirun -np 600 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_2L.edp -m 1500 -n 1500 -beta 1 -nw -log_view

echo "#############################################################################################################"
echo "#############################################################################################################"
echo "########     Finsihed Code with NL 600 Processors             #################################################"
echo "#############################################################################################################"
echo "#############################################################################################################"


mpirun -np 800 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_2L.edp -m 1500 -n 1500 -beta 1 -nw -log_view

echo "#############################################################################################################"
echo "#############################################################################################################"
echo "########     Finsihed Code with NL 800 Processors             #################################################"
echo "#############################################################################################################"
echo "#############################################################################################################"

#################################################################
############################################################################################################"
############################################################################################################"
#################################### 1L  methods  #####################################################################"
############################################################################################################"
############################################################################################################"


# mpirun -np 40 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_1L.edp -m 500 -n 500 -nw -log_view

# echo "#############################################################################################################"
# echo "#############################################################################################################"
# echo "########     Finsihed Code with 40 Processors             #################################################"
# echo "#############################################################################################################"
# echo "#############################################################################################################"

# mpirun -np 80 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_1L.edp -m 708 -n 708 -nw -log_view

# echo "#############################################################################################################"
# echo "#############################################################################################################"
# echo "########     Finsihed Code with NL 80 Processors             #################################################"
# echo "#############################################################################################################"
# echo "#############################################################################################################"

# mpirun -np 160 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_1L.edp -m 1001 -n 1001 -nw -log_view

# echo "#############################################################################################################"
# echo "#############################################################################################################"
# echo "########     Finsihed Code with NL 160 Processors             #################################################"
# echo "#############################################################################################################"
# echo "#############################################################################################################"


# mpirun -np 240 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_1L.edp -m 1227 -n 1227 -nw -log_view

# echo "#############################################################################################################"
# echo "#############################################################################################################"
# echo "########     Finsihed Code with NL 240 Processors             #################################################"
# echo "#############################################################################################################"
# echo "#############################################################################################################"

# mpirun -np 400 /home/a/asarkar/sudhipv/software/FreeFem-sources/src/mpi/FreeFem++-mpi NL_1L.edp -m 1584 -n 1584 -nw -log_view

# echo "#############################################################################################################"
# echo "#############################################################################################################"
# echo "########     Finsihed Code with NL 400 Processors             #################################################"
# echo "#############################################################################################################"
# echo "#############################################################################################################"




exit
